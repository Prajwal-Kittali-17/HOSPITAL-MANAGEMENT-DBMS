HOSPITAL MANAGEMENT DBMS - QUICK REFERENCE GUIDE
================================================

APPLICATION IS RUNNING AT: http://localhost:8502
USERNAME: admin
PASSWORD: admin123

========================================================
HOW TO USE EACH PAGE
========================================================

1. DASHBOARD
   • Overview of hospital operations
   • 7 Key Performance Indicators:
     - Total Patients
     - Total Doctors
     - Total Appointments
     - Daily Billing
     - All-Time Billing
     - Daily Payments
     - Outstanding Balances

2. PATIENTS
   • Add Patient: Click "Add Patient", fill form, click "Save Patient"
   • View Patients: See all patients in table
   • Delete Patient: Click delete button in table

3. DOCTORS
   • View all doctors with specialization
   • Remove doctor: Click remove button in table

4. APPOINTMENTS
   • Add Appointment: Select patient, doctor, date
   • View All: See all scheduled appointments
   • Delete: Remove appointment from table
   • Upcoming: View next appointments

5. APPOINTMENT ANALYTICS
   • By Doctor: See how many appointments each doctor has
   • By Patient: See how many appointments each patient has
   • Doctor Schedule: View detailed appointment list for each doctor

6. MEDICAL RECORDS
   • Add Record: Select patient/doctor, enter diagnosis/treatment
   • View: See all medical records for patients
   • Delete: Remove record from table

7. BILLING
   • Add Bill: Create new bill for patient
   • View All: See all billing records
   • Update: Modify bill amount
   • Delete: Remove bill
   • Patient History: View all bills for specific patient

8. PAYMENTS
   • Add Payment: Record payment from patient
   • View All: See all payments
   • Update: Modify payment amount
   • Delete: Remove payment
   • Patient History: View all payments for specific patient

9. PRESCRIPTIONS ⚡ TRIGGERS HERE
   • Add Prescription: Select patient/doctor, enter medicine/dosage
   • View: See all prescriptions
   • Delete: Remove prescription
   ⚡ Trigger: TR_LOG_PRESCRIPTION_INSERT fires automatically
      → Logs to Trigger Logs page

10. LAB TESTS ⚡ AUTO-BILLING TRIGGER
    • Add Test: Create new lab test for patient
    • View: See all lab tests
    • Update Status: Mark as "Completed"
    ⚡ Trigger: TR_ADD_LAB_TEST_CHARGE fires automatically
       → Creates $500 billing record
       → Logs to Trigger Logs page
       → See in Billing page

11. DEPARTMENTS
    • Add Department: Enter name, select head doctor
    • View: See all departments
    • Each department has contact info

12. ROOMS ⚡ OCCUPANCY TRACKING
    • Check-in Patient: Select room, enter patient
    ⚡ Trigger: TR_LOG_ROOM_OCCUPANCY fires
       → Logs occupancy change
    • Check-out Patient: Remove patient from room
    ⚡ Trigger: Logs occupancy change
    • View Status: See room occupancy

13. TRIGGER LOGS ⚡ REAL-TIME MONITORING
    • View all trigger actions in real-time
    • See what was triggered and when
    • Track all system changes
    • Monitor:
      - Prescription additions (TR_LOG_PRESCRIPTION_INSERT)
      - Room occupancy changes (TR_LOG_ROOM_OCCUPANCY)
      - Lab test charges (TR_ADD_LAB_TEST_CHARGE)
      - Payment updates (TR_UPDATE_PAYMENT_STATUS)

14. DB OBJECTS
    • View all triggers in database
    • View stored functions
    • View stored procedures
    • Call procedures from UI

========================================================
AUTOMATIC TRIGGERS IN ACTION
========================================================

SCENARIO 1: Lab Test Completion
1. Go to Lab Tests page
2. Add new lab test for patient
3. Update Status to "Completed"
4. TR_ADD_LAB_TEST_CHARGE trigger fires automatically
5. Check Billing page → $500 billing record created
6. Check Trigger Logs → See action logged

SCENARIO 2: Payment Entry
1. Go to Payments page
2. Add payment for patient
3. TR_UPDATE_PAYMENT_STATUS trigger fires automatically
4. PaymentStatus table updated
5. Check Trigger Logs → See action logged

SCENARIO 3: Room Occupancy
1. Go to Rooms page
2. Check-in patient
3. TR_LOG_ROOM_OCCUPANCY trigger fires automatically
4. Check Trigger Logs → See occupancy change logged
5. Check-out patient
6. Trigger fires again, logs change

SCENARIO 4: Prescription Entry
1. Go to Prescriptions page
2. Add new prescription for patient
3. TR_LOG_PRESCRIPTION_INSERT trigger fires automatically
4. Check Trigger Logs → See prescription logged

========================================================
DATABASE FUNCTIONS & PROCEDURES
========================================================

FN_GET_PATIENT_BALANCE(patient_id)
→ Used in Dashboard to calculate outstanding balance
→ Returns: Total Billed Amount - Total Paid Amount

SP_ADD_NEW_DOCTOR(name, specialization, phone)
→ Call from "DB Objects" page
→ Adds new doctor to database
→ Returns: Success message with Doctor ID

========================================================
SAMPLE DATA INCLUDED
========================================================
✅ 3 Patients (John Doe, Jane Smith, Bob Johnson)
✅ 3 Doctors (Dr. Alice, Dr. Charlie, Dr. Eve)
✅ 3 Departments (Cardiology, Surgery, Neurology)
✅ 3 Rooms (101, 102, 201)
✅ Billing and Payment records
✅ Prescriptions and Lab Tests
✅ Medical Records

========================================================
IF SOMETHING GOES WRONG
========================================================

Issue: "Table doesn't exist"
Fix: python clean_init.py

Issue: "Connection refused"
Fix: Start MySQL service

Issue: "Port already in use"
Fix: streamlit run main.py --server.port 8503

Issue: Missing dependencies
Fix: pip install -r requirements.txt

========================================================
FEATURES TO TRY
========================================================

1. Complete a lab test → See $500 billing created automatically
2. Add payment → Watch payment status update automatically
3. Check-in to room → See room occupancy logged
4. Add prescription → See action logged in Trigger Logs
5. View trigger logs → See all actions in real-time
6. Check Dashboard → See all metrics updated
7. View Patient History → See all bills for patient
8. Run analytics → See appointment statistics

========================================================
THAT'S ALL!

The application is fully functional and ready to use.
All database triggers, procedures, and functions are
working and visible in the frontend.

Enjoy!
========================================================
